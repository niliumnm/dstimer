# 用户接口

## 查询全部用户 

方法：GET 

URL：http://localhost:9090/user

传入：无

返回格式：JSON例子如下

```json
[
    {
        "id": 1,
        "name": "孙悟空",
        "nickname": "齐天大圣",
        "password": "123456",
        "avatar_url": null,
        "sex": "男",
        "email": "888888@qq.com",
        "created_at": "2022-05-31 11:16:07",
        "updated_at": null,
        "phone": "188888888"
    },
    {
        "id": 2,
        "name": "猪八戒",
        "nickname": "净坛使者",
        "password": "88888",
        "avatar_url": null,
        "sex": "男",
        "email": "123456@qq.com",
        "created_at": "2022-05-31 11:18:36",
        "updated_at": null,
        "phone": "1788888888"
    },
    {
        "id": 3,
        "name": "唐僧",
        "nickname": "金蝉子",
        "password": "123456",
        "avatar_url": null,
        "sex": "男",
        "email": "8999999@163.com",
        "created_at": "2022-05-31 11:19:29",
        "updated_at": null,
        "phone": "17899999999"
    },
    {
        "id": 4,
        "name": "白骨精",
        "nickname": "白骨夫人",
        "password": "123456",
        "avatar_url": null,
        "sex": "男",
        "email": "89999999@qq.com",
        "created_at": "2022-05-31 11:20:08",
        "updated_at": null,
        "phone": "+867894561"
    }
]
```

## 插入用户/更新用户

方法：POST

URL：http://localhost:9090/user/save

**用法1 传入其他参数，但是不带id**

实例：

传入：

```JSON
{
        "name": "新插入对象",
        "nickname": "大鹏元帅",
        "password": "123456",
        "avatar_url": "https://m.duitang.com/blog/?id=1391351457&belong_album=109495738",
        "sex": "男",
        "email": "89999999@qq.com",
        "phone": "+867894561",
        "address": "天界"
}
```

返回格式

```
1
```

表示插入成功

**用法2 连ID一起传 表示更新已有的某条记录** 

```json
{
        "id":"8",
        "name": "大鹏鸟",
        "nickname": "大鹏元帅",
        "password": "123456",
        "avatar_url": "https://m.duitang.com/blog/?id=1391351457&belong_album=109495738",
        "sex": "男",
        "email": "89999999@qq.com",
        "phone": "+867894561",
        "address": "天界"
}
```

id为8的元素信息被更新

![image-20220601205923160](接口文档.assets/image-20220601205923160.png)

## 登录 （简陋）

方法：POST

URL：http://localhost:9090/user/login

参数 JSON

```json
{
    "name":"白骨精",
    "password":"123456"
}
```

返回这个用户的全部信息

```json
{
    "id": 4,
    "name": "白骨精",
    "nickname": "白骨夫人",
    "password": "123456",
    "avatar_url": null,
    "sex": "男",
    "email": "89999999@qq.com",
    "created_at": "2022-05-31 11:20:08",
    "updated_at": null,
    "phone": "+867894561",
    "address": null
}
```



## 删除用户

方法：DELETE

URL：http://localhost:9090/user/delete/{id}

例：删除id为7的用户

发送DELETE http://localhost:9090/user/delete/7

用户即被删除 返回1



## 分页查询

方法：GET

http://localhost:9090/user/page?pageNum=页码&pageSize=条数

例

http://localhost:9090/user/page?pageNum=2&pageSize=2

返回格式

```json
{
    "total": 5, #总条数 数据库里一共有五条
    "data": [
        {
            "id": 3,
            "name": "唐僧",
            "nickname": "金蝉子",
            "password": "123456",
            "avatar_url": null,
            "sex": "男",
            "email": "8999999@163.com",
            "created_at": "2022-05-31 11:19:29",
            "updated_at": null,
            "phone": "17899999999",
            "address": null
        },
        {
            "id": 4,
            "name": "白骨精",
            "nickname": "白骨夫人",
            "password": "123456",
            "avatar_url": null,
            "sex": "男",
            "email": "89999999@qq.com",
            "created_at": "2022-05-31 11:20:08",
            "updated_at": null,
            "phone": "+867894561",
            "address": null
        }
    ]
}
```

